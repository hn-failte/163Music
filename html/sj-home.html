<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>网易云音乐</title>
    <link rel="stylesheet" href="../css/sj-home.css">
    <script src="../lib/jquery.js"></script>

    <link href="../css/frame.css" rel="stylesheet" />
    <link href="../lib/bootstrap-3.3.7-dist/css/bootstrap.css" rel="stylesheet">
    <script src="../lib/bootstrap-3.3.7-dist/js/bootstrap.js"></script>
    <link rel="stylesheet" href="../css/my_list.css">
    <link rel="stylesheet" href="../css/music_bar.css">
    <script src="../lib/layer/layer.js"></script>
    <style>
        /* #img {
            width: 100px;
        } */
    </style>
</head>

<body>
    <!-- 头部 -->
    <div class="head">
        <div class="nav">
            <div class="div1">
                <img style="margin: 15px 0 0 30px" src="../img/images/a_03.jpg" />
            </div>
            <div class="div2">
                <ul>
                    <li><a href="#">发现音乐</a></li>
                    <li id="go_my_list"><a href="#">我的音乐</a></li>
                    <li><a href="#">朋友</a></li>
                    <li><a href="#">商城</a></li>
                    <li><a href="#">音乐人</a></li>
                    <li><a href="#">下载客户端</a></li>
                </ul>
            </div>
            <div class="div3">
                <form>
                    <input type="text" class="text">
                </form>
                <div class="czzzx">
                    创作者中心
                </div>
                <img src="../img/images/a_09.jpg" />

                <div class="dropdown">
                    <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        登录
                        <span class="caret"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>


    <!-- 返回顶部 -->
    <div class="backTop"></div>
    <!-- 导航栏 -->
    <div class="navBox">
        <div class="navIn">
            <em>推荐</em>
            <em>排行榜</em>
            <em>歌单</em>
            <em>主播电台</em>
            <em>歌手</em>
            <em>新碟上架</em>
        </div>
    </div>
    <!-- 轮播图 -->
    <div class="swiperBox">

        <div class="swiper">
            <div class="swiperLi">
                <div class="box">
                    <ul class="imageBox">
                        <li class="lil"><img src="../img/sj-img/swiper1.jpg" alt=""></li>
                        <li class="lil"><img src="../img/sj-img/swiper2.jpg" alt=""></li>
                        <li class="lil"><img src="../img/sj-img/swiper3.jpg" alt=""></li>
                        <li class="lil"><img src="../img/sj-img/swiper4.jpg" alt=""></li>
                        <li class="lil"><img src="../img/sj-img/swiper5.jpg" alt=""></li>
                        <li class="lil"><img src="../img/sj-img/swiper6.jpg" alt=""></li>
                        <li class="lil"><img src="../img/sj-img/swiper7.jpg" alt=""></li>
                        <li class="lil"><img src="../img/sj-img/swiper8.jpg" alt=""></li>
                        <li class="lil"><img src="../img/sj-img/swiper9.jpg" alt=""></li>
                    </ul>
                    <ol class="tipsBox">
                        <p class="pl"></p>
                        <p class="pl"></p>
                        <p class="pl"></p>
                        <p class="pl"></p>
                        <p class="pl"></p>
                        <p class="pl"></p>
                        <p class="pl"></p>
                        <p class="pl"></p>
                        <p class="pl"></p>
                    </ol>
                </div>
                <div class="download"></div>
                <span class="leftBtn"></span>
                <span class="rightBtn"></span>
            </div>
        </div>

    </div>
    <!-- 内容 -->
    <div class="con">
        <div class="content clear-fix">
            <div class="conLeft">
                <!-- 热门推荐 -->
                <div class="leftTop">
                    <h2>
                        <a href="#" class="remen">热门推荐</a>
                        <div class="tab">
                            <a href="#">华语</a>
                            <span class="leg"> | </span>
                            <a href="#">流行</a>
                            <span class="leg"> | </span>
                            <a href="#">摇滚</a>
                            <span class="leg"> | </span>
                            <a href="#">民谣</a>
                            <span class="leg"> | </span>
                            <a href="#">电子</a>
                        </div>
                        <div class="nore">
                            <a href="#">更多</a>
                        </div>
                    </h2>
                    <div class="ajaxDoc clear-fix"></div>
                </div>
                <!-- 个性化推荐 -->
                <div class="leftPer">
                    <h2>
                        <a href="#" class="remen">个性化推荐</a>
                        <div class="nore">
                            <a href="#">更多</a>
                        </div>
                    </h2>
                    <div class="reco clear-fix">
                        <div class="reco1 recoDay">
                            <div class="today">
                                <span class="todayWeek"></span>
                                <span class="todayDay"></span>
                            </div>
                            <span class="reco1_a">每日歌曲推荐</span>
                            <span class="reco1_b">根据你的口味生成,每天6:00更新</span>
                        </div>
                        <div class="reco2"></div>
                    </div>
                </div>
                <!-- 新碟上架 -->
                <div class="leftNewd">
                    <h2>
                        <a href="#" class="remen">新碟上架</a>
                        <div class="nore">
                            <a href="#">更多</a>
                        </div>
                    </h2>
                    <div class="newSing clear-fix"></div>
                </div>
                <!-- 榜单 -->
                <div class="leftList">
                    <h2>
                        <a href="#" class="remen">榜单</a>
                        <div class="nore">
                            <a href="#">更多</a>
                        </div>
                    </h2>
                    <div class="ranking">
                        <!-- left -->
                        <div class="rankLeft">
                            <dl>
                                <img class="dlLeft" src="../img/sj-img/sing1.jpg" alt="">
                                <div class="dlRight">
                                    <div class="pj">云音乐飙升榜</div>
                                    <div class="konf">
                                        <u class="u1"></u>
                                        <u class="u2"></u>
                                    </div>
                                </div>
                            </dl>
                            <div class="rankDoc"></div>
                            <div class="look1 look">查看全部</div>
                        </div>
                        <!-- center -->
                        <div class="rankCenter">
                            <dl>
                                <img src="../img/sj-img/sing2.jpg" alt="">
                                <div class="dlRight">
                                    <div class="pj">云音乐新歌榜</div>
                                    <div class="konf">
                                        <u class="u1"></u>
                                        <u class="u2"></u>
                                    </div>
                                </div>
                            </dl>
                            <div class="rankDoc2"></div>
                            <div class="look2 look">查看全部</div>
                        </div>
                        <!-- right -->
                        <div class="rankRight">
                            <dl>
                                <img src="../img/sj-img/sing3.jpg" alt="">
                                <div class="dlRight">
                                    <div class="pj">网易原创歌曲榜</div>
                                    <div class="konf">
                                        <u class="u1"></u>
                                        <u class="u2"></u>
                                    </div>
                                </div>
                            </dl>
                            <div class="rankDoc3"></div>
                            <div class="look3 look">查看全部</div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 右块内容 -->
            <div class="conRight">
                <!-- 用户信息 -->
                <div class="youSelf">
                    <img class="miImg" src="../img/sj-img/mi.jpg" alt="">
                </div>
                <!-- 歌手列表 -->
                <div class="singer">
                    <h3 class="singMore">
                        <span class="sing1">入驻歌手</span>
                        <span class="sing3"></span>
                        <a href="#" class="sing2">查看全部</a>
                    </h3>
                    <div class="pub"></div>
                    <div class="singBtn">申请成为音乐人</div>
                </div>
                <!-- 主播列表 -->
                <div class="ancho">
                    <h3 class="anchoMore">热门主播</h3>
                    <div class="anchoData"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- 尾部 -->
    <div class="tail">
        <div class="tailDoc">
            <div class="tailLeft">
                <p class="tailp tai">
                    <a href="#">关于网易</a>
                    <span> | </span>
                    <a href="#">客户服务</a>
                    <span> | </span>
                    <a href="#">服务条款</a>
                    <span> | </span>
                    <a href="#">隐私政策</a>
                    <span> | </span>
                    <a href="#">版权投诉指引</a>
                    <span> | </span>
                    <a href="#">意见反馈</a>
                    <span> | </span>
                </p>
                <p class="tailp2 tai">
                    <span>网易公司版权所有©1997-2019</span>
                    <span>杭州乐读科技有限公司运营：</span>
                    <a href="#">浙网文[2018]3506-263号</a href="#">
                </p>
                <p class="tailp3 tai">
                    <span>违法和不良信息举报电话：0571-89853516</span>
                    <span>举报邮箱：</span>
                    <a href="#">ncm5990@163.com</a href="#">
                </p>
            </div>
            <div class="tailRight">
                <div class="tu tu1">
                    <h4 class="tuTop"></h4>
                    <h4 class="tuBot">用户认证</h4>
                </div>
                <div class="tu tu2">
                    <h4 class="tuTop"></h4>
                    <h4 class="tuBot">独立音乐人</h4>
                </div>
                <div class="tu tu3">
                    <h4 class="tuTop"></h4>
                    <h4 class="tuBot">赞赏</h4>
                </div>
                <div class="tu tu4">
                    <h4 class="tuTop"></h4>
                    <h4 class="tuBot">视频奖励</h4>
                </div>
            </div>
        </div>
    </div>
    <!-- 底部播放器 -->
    <!-- <iframe id="main" name="main" src="http://10.36.133.110:8086/html/music_search.html" frameborder="0"></iframe> -->

    <div class="audio">
        <p class="text-primary">  -------- </p>
        <audio id="audio" src="" controls="controls"></audio>
        <button class="glyphicon glyphicon-backward"></button>
        <button id="playMode" class="glyphicon glyphicon-th-list" mode="0"></button>
        <button class="glyphicon glyphicon-plus"></button>
        <button class="glyphicon glyphicon-align-justify"></button>
        <button class="glyphicon glyphicon-forward"></button>
        <ul id="myList"></ul>
        <ul id="asideList"></ul>
    </div>


</body>
<script src="../js/sj-move1.1.0.js"></script>
<script src="../js/sj-animate7.0.js"></script>
<script src="../js/sj-swiper.js"></script>
<script src="../js/sj-home.js"></script>
<script src="../js/sj-getdata.js"></script>
<script>
    swiper.init();
</script>
<script>
    $("li").mouseenter(function () {
        $(this).find("a").css({
            "color": "white",
            // "background": "url(../img/images/b2_03.jpg) no-repeat",
            // "background-size": "20px 25px"
            "background": "black"
        });
    });

    $("li").mouseleave(function () {
        $(this).find("a").css({
            "color": "white",
            "background": "#2D2D2D"
        });

    });

    $(".btn").click(function () {
        location.href = "login-T.html";
    })
    $(".li1").click(function () {
        location.href = "login-T.html";
    })

    $(".dropdown").mouseenter(function () {
        $(this).css("display", "block");
        console.log(666);
    })



    $().ready(function(){
        getList();
    })

    function getList() {
        $.ajax({
            url: "http://127.0.0.1:8086/php/crud.php",
            type: "get",
            data: "action=gl&u_id=1",
            dataType: "json",
            success: function(res){
                var data="";
                for(let item in res){
                    data+=`<li list_id="${res[item]["list_id"]}"><span class="glyphicon glyphicon-chevron-right text-warning"></span>${res[item]["list_name"]}<ul class="song_ul"></ul></li>`;
                }
                $("#ul").html(data);
            }
        });
    }

    $("#btn").click(function(){
        layer.prompt({title: "输入歌单名", formType: 0}, function(pass, index){
            if(pass!=""){
                layer.close(index);
                $.ajax({
                    url: "http://127.0.0.1:8086/php/crud.php",
                    data: "action=cl&list_name="+pass+"&u_id=1",
                    type: "get",
                    dataType: "json",
                    success: function(res){
                        if(res.state==1){
                            layer.msg("添加成功", {icon: 1}, function(){
                                getList();
                            });
                        }
                        else{
                            layer.msg("添加失败", {icon: 2});
                        }
                    }
                });
            }
        });
    });

    $("#ul").on("click", function(e){
        if($(e.target).parent().attr("list_id") || $(e.target).attr("list_id")){
            var dealUl;
            if($(e.target).parent().attr("list_id")) dealUl = $(e.target).parent().children().eq(1);
            else dealUl = $(e.target).children().eq(1);
            var icon = dealUl.parent().children().eq(0);
            
            if(icon.hasClass("glyphicon-chevron-right")){
                icon[0].className="";
                icon.addClass("glyphicon glyphicon-chevron-down");
            }
            else if(icon.hasClass("glyphicon-chevron-down")){
                icon[0].className="";
                icon.addClass("glyphicon glyphicon-chevron-right");
            }
            if(dealUl.html()=="") listExtend(dealUl);
            else dealUl.toggle();
        }
        else if($(e.target).attr("m_id"))  play($(e.target));
    })


    function listExtend(jqobj){
        $.ajax({
            url: "http://127.0.0.1:8086/php/crud.php",
            type: "get",
            data: "action=gs&list_id="+jqobj.parent().attr("list_id")+"&u_id=1",
            dataType: "json",
            success: function(res){
                var data = "";
                for(let item of res){
                    data+=`<li m_id="208902">${item["m_name"]} ${item["m_author"]}</li>`;
                }
                jqobj.html(data);
            }
        });
    }


</script>

</html>